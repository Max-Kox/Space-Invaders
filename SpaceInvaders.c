// SpaceInvaders.c
// Runs on TM4C123
// ******* Required Hardware I/O connections*******************
// Slide pot pin 1 connected to ground
// Slide pot pin 2 connected to PE2/AIN1
// Slide pot pin 3 connected to +3.3V 
// fire button connected to PE0
// special weapon fire button connected to PE1
// 8*R resistor DAC bit 0 on PB0 (least significant bit)
// 4*R resistor DAC bit 1 on PB1
// 2*R resistor DAC bit 2 on PB2
// 1*R resistor DAC bit 3 on PB3 (most significant bit)
// LED on PB4
// LED on PB5

#include "tm4c123gh6pm.h"
#include "Nokia5110.h"
#include "Random.h"
#include "PLL.h"
#include "ADC.h"
#include "LED_and_Buttons.h"
#include "Sound.h"

void DisableInterrupts(void);								// Disable interrupts
void EnableInterrupts(void);								// Enable interrupts
void SysTick_Init(unsigned long period);
void Delay100ms(unsigned long count);				// time delay in 0.1 seconds
void Objects_Init(unsigned long Level);			// initialization of all objects parameters before each level
void Draw(void);														// Drawing of all objects on the screen (creating proper picture in RAM buffer and sending it to Nokia)
void Game_Param_Init(void);									// Initialize some parameters before start of the game
void DisplayText(char *text, char out_number, unsigned long duration, unsigned long x_start_coord, unsigned long y_start_coord); // print text on the screen
unsigned long Overlap(signed long smaller_x, signed long smaller_y, unsigned char smaller_width, unsigned char smaller_hight, signed long bigger_x, signed long bigger_y, unsigned char bigger_width, unsigned char bigger_hight);
unsigned long Semaphore;										// indicates that SysTick handler was processed
unsigned long debugVar;											// used only for debug

// *************************** Images ***************************
// enemy ship that starts at the top of the screen (arms/mouth closed)
// width=10 x height=8
const unsigned char SmallEnemy30PointA[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xF0, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00,
 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x00, 0xF0, 0xFF, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x0F, 0xF0, 0xFF, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0xFF,
 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF
};

// enemy ship that starts at the top of the screen (arms/mouth open)
// width=10 x height=8
const unsigned char SmallEnemy30PointB[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xF0, 0xF0, 0x00, 0x0F, 0x0F, 0x00, 0x00, 0x00, 0x0F, 0x0F,
 0xFF, 0xF0, 0xF0, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x0F, 0xF0, 0xFF, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0xFF,
 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF
};
// enemy ship that starts in the middle of the screen (arms together)
// width=14 x height=8
const unsigned char SmallEnemy20PointA[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0xFF,
 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0x00, 0xFF, 0xF0, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x0F, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xF0, 0x00, 0x0F, 0xFF,
 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0xFF
};
// enemy ship that starts in the middle of the screen (arms apart)
// width=14 x height=8
const unsigned char SmallEnemy20PointB[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0x00, 0xFF, 0xF0, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x0F, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xF0, 0x00, 0x0F, 0xFF,
 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0xFF
};
// enemy ship that starts at the bottom of the screen (arms down)
// width=12 x height=8
const unsigned char SmallEnemy10PointA[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0xF0, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0xF0, 0xF0,
 0x00, 0x00, 0x0F, 0x0F, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0xF0, 0xFF, 0xFF, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0xFF,
 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xFF
};
// enemy ship that starts at the bottom of the screen (arms up)
// width=12 x height=8
const unsigned char SmallEnemy10PointB[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0xF0,
 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xF0, 0xFF, 0xFF, 0x0F, 0xFF, 0x00, 0x00, 0xF0, 0xFF,
 0xFF, 0xFF, 0xFF, 0x0F, 0x00, 0x00, 0xF0, 0x0F, 0x00, 0x00, 0xF0, 0x0F, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xFF
};
// image of the player's ship
// width=14 x height=7
const unsigned char PlayerShip[] ={
 0x42, 0x4D, 0xAE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0x00, 0xAA, 0xAA,
 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0x00, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0x00, 0x0A, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x00,
 0x0A, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xAA, 0x00, 0x00, 0x00, 0x00, 0xFF
};
// small, fast bonus enemy that occasionally speeds across the top of the screen after enough enemies have been killed to make room for it
// width=16 x height=7
const unsigned char SmallEnemyBonus[] ={
 0x42, 0x4D, 0xAE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0xFF,
 0xF0, 0x0F, 0xF0, 0x0F, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0xF0, 0xFF, 0x0F, 0xF0, 0xFF, 0x0F, 0xF0, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x0F,
 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0xFF, 0xF0, 0x00, 0x00, 0xFF
};
// small shield floating in space to cover the player's ship from enemy fire (undamaged)
// width=18 x height=5
const unsigned char Bunker0[] = {
 0x42, 0x4D, 0xB2, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x3C, 0x00, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0x00, 0x00, 0xAA, 0xAA, 0x00,
 0x00, 0x00, 0xAA, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA,
 0xAA, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x00, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0x00, 0xFF
};
// small shield floating in space to cover the player's ship from enemy fire (moderate generic damage)
// width=18 x height=5
const unsigned char Bunker1[] ={
 0x42, 0x4D, 0xB2, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x3C, 0x00, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0x00, 0x00, 0xAA, 0xAA, 0x00,
 0x00, 0x00, 0xAA, 0xAA, 0xA0, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0x0A, 0x00, 0x00, 0x00, 0x0A, 0x0A, 0xAA, 0xAA, 0xAA, 0xAA, 0xA0, 0xAA, 0xAA, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0x0A, 0xA0, 0xA0, 0xAA,
 0xAA, 0xA0, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA0, 0xA0, 0x00, 0x0A, 0x0A, 0x0A, 0x00, 0x00, 0x00, 0x00, 0xFF
};
// small shield floating in space to cover the player's ship from enemy fire (heavy generic damage)
// width=18 x height=5
const unsigned char Bunker2[] ={
 0x42, 0x4D, 0xB2, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x3C, 0x00, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0xC4, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x0A, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA0, 0xAA, 0x00,
 0x00, 0x00, 0xAA, 0x0A, 0xA0, 0x00, 0x00, 0x00, 0x0A, 0xAA, 0x0A, 0x00, 0x00, 0x00, 0x0A, 0x0A, 0x0A, 0xA0, 0xAA, 0xA0, 0xA0, 0xA0, 0xA0, 0x00, 0x00, 0x00, 0x00, 0xAA, 0x0A, 0x00, 0xA0, 0xA0,
 0xA0, 0x00, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA0, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF
};
// large explosion that can be used upon the demise of the player's ship (first frame)
// width=18 x height=8
const unsigned char BigExplosion0[] = {
 0x42, 0x4D, 0xD6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x0A, 0x00, 0x09, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x00, 0x90, 0x00, 0x90, 0xB0, 0x0A, 0x00, 0x0B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0B, 0x00, 0x0B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0B, 0xA0, 0x00, 0xE0, 0x00, 0x00,
 0x90, 0x90, 0x9A, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA0, 0x00, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0xA0, 0x00, 0x00, 0xAE, 0x00, 0x00, 0x00, 0x00, 0x0A, 0x00,
 0x00, 0xE0, 0x0A, 0x0A, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0xA0, 0x00, 0x09, 0x00, 0x00, 0x00, 0x90, 0x00, 0x0A, 0x00, 0x00, 0x00, 0xFF
};
// large explosion that can be used upon the demise of the player's ship (second frame)
// width=18 x height=8
const unsigned char BigExplosion1[] = {
 0x42, 0x4D, 0xD6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x0E, 0x00, 0x09, 0x00, 0x09, 0x00, 0xB0, 0x00, 0xA0, 0x00,
 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA9, 0x00, 0x00, 0x00, 0x00, 0x90,
 0x00, 0x00, 0x0B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0xA0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00, 0xE0, 0x00, 0x0A, 0x00, 0x90, 0x00, 0xB0, 0x00, 0x09, 0x00, 0x00, 0x00, 0xFF
};
// small explosion best used for the demise of an enemy
// width=16 x height=10
const unsigned char SmallExplosion[] ={
 0x42, 0x4D, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x0F, 0x00, 0xF0, 0x00, 0x0F, 0x00, 0xF0, 0x00, 0x00, 0xF0,
 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0xF0,
 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x0F, 0x00, 0x0F, 0x00, 0xF0, 0x00, 0xF0, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xFF
};
// a missile in flight
// width=4 x height=7
const unsigned char Missile0[] ={
 0x42, 0x4D, 0x8E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x0F, 0xF0,
 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0xFF
};
// a missile in flight
// width=4 x height=7
const unsigned char Missile1[] ={
 0x42, 0x4D, 0x92, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xF0,
 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0xFF
};
// a laser burst in flight
// width=2 x height=9
const unsigned char Laser[] ={
 0x42, 0x4D, 0x92, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00,
 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF
};
// Label of the game
// width=84 x height=48
const unsigned char Label[] ={
 0x42, 0x4D, 0xB8, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x54, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x42, 0x08, 0x00, 0x00, 0xC3, 0x0E, 0x00, 0x00, 0xC3, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80,
 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0xC0, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0xFF,
 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x00, 0x00, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0xBB, 0x44, 0x4B, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x4B, 0xBB, 0xB4, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0x4B, 0xBB, 0xB4, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0x4B, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x4B, 0xBB, 0xBB, 0x44, 0x4B,
 0xBB, 0x44, 0x44, 0x4B, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xB4, 0x44, 0xB4, 0x4B, 0xB4, 0x44,
 0xBB, 0xBB, 0xB4, 0x4B, 0xBB, 0xBB, 0xBB, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xBB, 0x44, 0x44, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x4B, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0xBB, 0x44, 0xBB, 0x44,
 0x44, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0x44, 0xBB, 0xBB, 0xBB, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B,
 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0xBB, 0xBB, 0xB4, 0x44, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xB4, 0x4B, 0xBB,
 0xBB, 0xB4, 0x44, 0xBB, 0xB4, 0xBB, 0xB4, 0x4B, 0xB4, 0xBB, 0xB4, 0x4B, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4, 0x4B, 0xB4, 0xBB, 0xB4, 0x4B, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0x44,
 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xBB, 0x44, 0xBB, 0xB4, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0xB4, 0x4B,
 0xBB, 0xBB, 0x44, 0x4B, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x4B, 0xBB, 0x4B, 0xBB, 0x44, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB,
 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x4B, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0x4B,
 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xBB, 0x44, 0xBB, 0xB4, 0x4B, 0xBB, 0x4B, 0xBB, 0x44, 0x4B, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0xBB, 0x44,
 0xBB, 0xBB, 0xBB, 0xBB, 0x44, 0xBB, 0xBB, 0xBB, 0x44, 0x44, 0xBB, 0xBB, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xB4, 0x4B, 0xBB, 0x44, 0x4B, 0xB4, 0x4B, 0xBB, 0x44,
 0x4B, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0xBB, 0xBB, 0xBB, 0x44, 0x4B, 0xBB, 0xB4, 0x44, 0x44, 0x4B, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0x44, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0x4B, 0xBB, 0x44, 0x4B, 0xBB,
 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4,
 0x44, 0x44, 0xBB, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0xBB, 0xB4, 0x4B, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x44, 0xBB,
 0x44, 0xBB, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB,
 0xBB, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0x44, 0x44, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4,
 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xB4, 0x44, 0xBB, 0x44, 0xBB, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0x44,
 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xB4, 0x4B, 0xBB, 0x44, 0xBB, 0xB4,
 0xBB, 0xB4, 0x4B, 0xBB, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x4B, 0xB4, 0x44, 0xBB, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x44, 0xBB, 0xBB, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0x44, 0x44, 0xBB, 0xBB, 0xBB, 0x44, 0x44, 0xBB, 0xBB, 0x44, 0x44, 0x4B,
 0xBB, 0xBB, 0x44, 0x44, 0x4B, 0xBB, 0xBB, 0xB4, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x00, 0x00, 0xFF
};
// *************************** Capture image dimensions out of BMP**********
#define BUNKERW     ((unsigned char)Bunker0[18])
#define BUNKERH     ((unsigned char)Bunker0[22])
#define ENEMY30W    ((unsigned char)SmallEnemy30PointA[18])
#define ENEMY30H    ((unsigned char)SmallEnemy30PointA[22])
#define ENEMY20W    ((unsigned char)SmallEnemy20PointA[18])
#define ENEMY20H    ((unsigned char)SmallEnemy20PointA[22])
#define ENEMY10W    ((unsigned char)SmallEnemy10PointA[18])
#define ENEMY10H    ((unsigned char)SmallEnemy10PointA[22])
#define ENEMYBONUSW ((unsigned char)SmallEnemyBonus[18])
#define ENEMYBONUSH ((unsigned char)SmallEnemyBonus[22])
#define LASERW      ((unsigned char)Laser[18])
#define LASERH      ((unsigned char)Laser[22])
#define MISSILEW    ((unsigned char)Missile0[18])
#define MISSILEH    ((unsigned char)Missile0[22])
#define PLAYERW     ((unsigned char)PlayerShip[18])
#define PLAYERH     ((unsigned char)PlayerShip[22])
#define PLAYERW     ((unsigned char)PlayerShip[18])
#define PLAYERH     ((unsigned char)PlayerShip[22])

#define LOWENEMCOORD	35					// the lowest y coordinate for enemies

struct StateObj
{
	signed long x;									// x coordinate 
	signed long y;									// y coordinate
	unsigned long width;						// oblect width
	unsigned long hight;						// object hight
	const unsigned char *image[2];	// ptr->image
	unsigned long life;							// 0=dead, 1=alive
	unsigned long KilledTimer;			// define duration of explosion image after demise
};

typedef struct StateObj 	STypObj;	// Has 2 images(frames)

STypObj Enemy_o[4];									// array of enemies
STypObj PlayerShip_o;								// Player Ship
STypObj PlayerLaser_o;							// Player Laser
STypObj EnemyLaser_o[4];						// Enemy Laser
unsigned long EnemySpeedPar;				// 1/speed of moving, cycles of SysTick interrupt(30 Hz) per moving
unsigned long EnemLaserSpeedPar;		// 1/speed of laser moving, cycles of SysTick interrupt(30 Hz) per moving
unsigned long FrameCount = 0;				// counter of frames, used to do some actions not every frame
unsigned long EnemyLaserFreqPar;		// define frequency of enemy shooting in %
unsigned long EnemyMovePerm;				// Enemy mevement is not permitted when one or more of enemies is exploding (when KilledTimer[i] != 0)
unsigned long Player_Lifes;					// Number of lifes of Player
unsigned long Level;								// Number of Level
unsigned long Level_End;						// Indicates that level ended

int main(void)
{
	PLL_Init();															// set system clock to 80 MHz
	SysTick_Init(80000000/30);							// frequency of SysTick interrutp is 30 Hz
	ADC0_Init();
	LED_and_Buttons_Init();
	Nokia5110_Init();
	Sound_Init();
	EnemyLaserFreqPar = 3;									// define frequency of enemy shooting in %
	// Print the name of the game
	Nokia5110_PrintBMP(0, 47, Label, 4);
	Nokia5110_DisplayBuffer();
	Delay100ms(20);
	while(1)
	{
		Game_Param_Init();										// Initialization some parameters before start of the game
		// Print text "Press fire button" and initilalisation of random number generator using SysTick value
		NVIC_ST_CTRL_R &= ~0x00000002;				// disable SysTick interrupts, but don't disable Systick
		Nokia5110_Clear();
		Nokia5110_SetCursor(1, 2);
		Nokia5110_OutString("Press fire    button");
		while(Fire_Button_In() == 0);
		Random_Init(NVIC_ST_CURRENT_R);
		NVIC_ST_CTRL_R |= 0x00000002;					// enable SysTick interrupts
		// main cycle
		while(1)
		{
			// actions to perform at the end of each level
			if(Level_End == 1)
			{
				Level_End = 0;
				Level++;
				if(Level > 4)
				{
					DisplayText("You are     WINNER!!!", 'F', 100, 2, 2);
					break;
				}
				Objects_Init(Level);
				switch(Level)
				{
					case 1:
						EnemySpeedPar = 20;											// initialization of enemy movement speed
						EnemLaserSpeedPar = 4;
						break;
					case 2:
						EnemySpeedPar = 12;											// initialization of enemy movement speed
						EnemLaserSpeedPar = 3;
						break;
					case 3:
						EnemySpeedPar = 6;											// initialization of enemy movement speed
						EnemLaserSpeedPar = 2;
						break;
					case 4:
						EnemySpeedPar = 3;											// initialization of enemy movement speed
						EnemLaserSpeedPar = 1;
						break;
				}
				DisplayText("Level ", Level, 30, 2, 2);
			}
			// SysTick handler was processed, print new picture on the screen
			if(Semaphore)
			{
				if(PlayerShip_o.life == 0 && PlayerShip_o.KilledTimer == 0)
				{
					Player_Lifes--;
					EnemyLaser_o[0].life = EnemyLaser_o[1].life = EnemyLaser_o[2].life = EnemyLaser_o[3].life = 0;
					if(Player_Lifes > 0)
					{
						DisplayText("Lifes: ", Player_Lifes, 20, 2, 2);
						PlayerShip_o.life = 1;
					}
					else
					{
						DisplayText("Game Over", 'F', 30, 1, 2);
						break;
					}
				}
				Draw();
				Semaphore = 0;
			}
		}
	}
}

// initialization all objects parameters in memory before start of game
void Objects_Init(unsigned long Level)
{
	int i;
	// Initialization of enemies
	for(i=0; i<4; i++)
	{
		Enemy_o[i].x = 20*i;
		Enemy_o[i].y = 10;
		switch(Level)
		{
			case 1:
				Enemy_o[i].width = ENEMY10W;
				Enemy_o[i].hight = ENEMY10H;
				Enemy_o[i].image[0] = SmallEnemy10PointA;
				Enemy_o[i].image[1] = SmallEnemy10PointB;
				break;
			case 2:
				Enemy_o[i].width = ENEMY20W;
				Enemy_o[i].hight = ENEMY20H;
				Enemy_o[i].image[0] = SmallEnemy20PointA;
				Enemy_o[i].image[1] = SmallEnemy20PointB;
				break;
			case 3:
				Enemy_o[i].width = ENEMY30W;
				Enemy_o[i].hight = ENEMY30H;
				Enemy_o[i].image[0] = SmallEnemy30PointA;
				Enemy_o[i].image[1] = SmallEnemy30PointB;
				break;
			case 4:
				Enemy_o[i].width = ENEMYBONUSW;
				Enemy_o[i].hight = ENEMYBONUSH;
				Enemy_o[i].image[0] = SmallEnemyBonus;
				Enemy_o[i].image[1] = SmallEnemyBonus;
				break;
			default:
				DisplayText("Error", 'F', 50, 0, 0);						// all levels ended
		}
		Enemy_o[i].life = 1;
		Enemy_o[i].KilledTimer = 0;
	}
	// Initialization of Player Ship
	PlayerShip_o.y = 47;
	PlayerShip_o.x = ( (ADC0_In() * (83 - (PLAYERW-1))) / 0xFFF );
	PlayerShip_o.width = PLAYERW;
	PlayerShip_o.hight = PLAYERH;
	PlayerShip_o.image[0] = PlayerShip;
	PlayerShip_o.image[1] = PlayerShip;						// 2nd image for Player Ship is not used, so it doesn't matter
	PlayerShip_o.life = 1;
	// Initialization of Player Laser
	PlayerLaser_o.life = 0;
	PlayerLaser_o.width = MISSILEW;
	PlayerLaser_o.hight = MISSILEH;
	PlayerLaser_o.image[0] = Missile0;
	PlayerLaser_o.image[1] = Missile0;						// 2nd image for Player Laser is not used, so it doesn't matter
	PlayerLaser_o.KilledTimer = 0;
	// Initialization of Enemy Lasers
	for(i=0; i<4; i++)
	{
		EnemyLaser_o[i].life = 0;
		EnemyLaser_o[i].width = LASERW;
		EnemyLaser_o[i].hight = LASERH;
		EnemyLaser_o[i].image[0] = Laser;
		EnemyLaser_o[i].image[1] = Laser;						// 2nd image for Player Laser is not used, so it doesn't matter
		EnemyLaser_o[i].KilledTimer = 0;
	}
}

// moving of enemies, that is processed in SysTick
void Enemy_Move(void)
{
	static unsigned char rightmove = 1;			// 1 - moving right, 0 - moving left
	unsigned char downmove = 0;							// for moving down, this variable initiates every time
	unsigned char i = 0;
	
	for(i=0; i<4; i++)					// checking if it is edge of the screen, only for alive enemies
	{
		if(Enemy_o[i].life == 1)
		{
			if( (Enemy_o[i].x >= 84-((Level==4) ? ENEMYBONUSW : ENEMY20W))&&(rightmove == 1) || (Enemy_o[i].x <= 0)&&(rightmove == 0) )
			{
				downmove = 1;
			}
		}
	}
	if(downmove == 0)						// moving right or left
	{
		if(rightmove == 1)
		{
			for(i=0; i<4; i++) Enemy_o[i].x += 2;
		}
		else
		{
			for(i=0; i<4; i++) Enemy_o[i].x -= 2;
		}
	}
	else												// moving down and change horizontal direction
	{
		for(i=0; i<4; i++)
		{
			if(Enemy_o[i].y < LOWENEMCOORD) Enemy_o[i].y += 2;
		}
		rightmove ^= 1;
	}
	
}

// Drawing of all objects on the screen (creating proper picture in RAM buffer and sending it to Nokia)
void Draw(void)
{
	int i; 
	Nokia5110_ClearBuffer();
	// drawing of enemies
	for(i=0;i<4;i++)
	{
		if(Enemy_o[i].life == 1)
		{
			Nokia5110_PrintBMP(Enemy_o[i].x, Enemy_o[i].y, Enemy_o[i].image[(FrameCount>>5)&0x00000001], 0); 
		}
		else if(Enemy_o[i].KilledTimer > 0)
		{
			Nokia5110_PrintBMP(Enemy_o[i].x, Enemy_o[i].y, SmallExplosion, 0);
		}
	}
	// drawing of Player Laser
	if(PlayerLaser_o.life == 1)
	{
		Nokia5110_PrintBMP(PlayerLaser_o.x, PlayerLaser_o.y, PlayerLaser_o.image[0], 0);
	}
	// drawing of Player Ship
	if(PlayerShip_o.life == 1)
	{
		Nokia5110_PrintBMP(PlayerShip_o.x, PlayerShip_o.y, PlayerShip_o.image[0], 0);
	}
	else if(PlayerShip_o.KilledTimer <= 30 && PlayerShip_o.KilledTimer >15)
	{
		Nokia5110_PrintBMP((PlayerShip_o.x <= 66) ? PlayerShip_o.x : 66, PlayerShip_o.y, BigExplosion0, 0);
	}
	else if(PlayerShip_o.KilledTimer <= 15 && PlayerShip_o.KilledTimer >0)
	{
		Nokia5110_PrintBMP((PlayerShip_o.x <= 66) ? PlayerShip_o.x : 66, PlayerShip_o.y, BigExplosion1, 0);
	}
		
		// drawing of Enemy Lasers
	for(i=0;i<4;i++)
	{
		if(EnemyLaser_o[i].life == 1)
		{
			Nokia5110_PrintBMP(EnemyLaser_o[i].x, EnemyLaser_o[i].y, EnemyLaser_o[i].image[0], 0);
		}
	}
	
	// Send buffer to display
	Nokia5110_DisplayBuffer();
} 


void SysTick_Init(unsigned long period)
{
	NVIC_ST_CTRL_R = 0;																								// disable SysTick during setup
	NVIC_ST_RELOAD_R = period - 1;																		// define frequency of SysTick interrupt
	NVIC_SYS_PRI3_R = (NVIC_SYS_PRI3_R & 0x00FFFFFF) | 0x40000000;		// priority 2      
	NVIC_ST_CTRL_R = 0x0007;																					// enable SysTick with core clock and interrupts
}

// changes parametets of game elements every 30 Hz and set flag(Semaphore), after it main loop create new 
// image of screen in RAM, and send it to Nokia
void SysTick_Handler(void)
{
	unsigned char i;									// auxiliary variable
	unsigned char counter;				// auxiliary variable
	FrameCount++;
	// Enemy moving
	if(FrameCount % EnemySpeedPar == 0 && EnemyMovePerm == 1)		// deciding: to move or not to move
	{
		Enemy_Move();
	}
	for(i=0; i<4; i++)										// decrease timer for displaying explosion after demise
	{
		if(Enemy_o[i].KilledTimer != 0)
		{
			Enemy_o[i].KilledTimer--;
			EnemyMovePerm = 0;							// must not move with image of explosion
		}
		if(Enemy_o[0].KilledTimer == 0 && Enemy_o[1].KilledTimer == 0 && Enemy_o[2].KilledTimer == 0 && Enemy_o[3].KilledTimer == 0)
		{
			EnemyMovePerm = 1;
		}
	}
	// Player Ship moving
	if(PlayerShip_o.KilledTimer == 0)
	{
		PlayerShip_o.x = ( (ADC0_In() * (83 - (PLAYERW-1))) / 0xFFF ); 			// Player Ship must not move while its exploding
	}
	else PlayerShip_o.KilledTimer--;										// decrease timer every Frame
		// Player laser moving
	if(Fire_Button_In() == 1 && PlayerLaser_o.life == 0)	// creating of laser beam
	{
		PlayerLaser_o.life = 1;
		PlayerLaser_o.x = PlayerShip_o.x - 1 + (PLAYERW - LASERW)/2;
		PlayerLaser_o.y = 47;
		Sound_Shoot();
	}
	if(PlayerLaser_o.life == 1)
	{
		if(FrameCount % 0x00000001 == 0) PlayerLaser_o.y -= 1;
		for(i=0; i<4; i++)
		{
			// killing of one of enemies
			if(Enemy_o[i].life == 1 && Overlap(PlayerLaser_o.x, PlayerLaser_o.y+1, PlayerLaser_o.width, PlayerLaser_o.hight-1, Enemy_o[i].x, Enemy_o[i].y, Enemy_o[i].width, Enemy_o[i].hight) == 1)		// +1 and -1 is needed for great look for laser killing enemies
			{
				Enemy_o[i].life = 0;
				PlayerLaser_o.life = 0;
				Enemy_o[i].KilledTimer = 30;   	// is needed for displaying explosion after demise of enemy during that much cycles of SysTick interrupt
				Sound_Killed();
			}
		}
		if(PlayerLaser_o.y <= 0) PlayerLaser_o.life = 0;			// beam is out of screen
	}
	// Enemy lasers moving
	for(i=0; i<4; i++)
	{
		if(EnemyLaser_o[i].life == 0)
		{
			if(Enemy_o[i].life == 1 && Random32() % 100 <= EnemyLaserFreqPar)	// creating of new laser beam only by alive enemy
			{
				EnemyLaser_o[i].life = 1;
				EnemyLaser_o[i].x = Enemy_o[i].x + (Enemy_o[i].width - EnemyLaser_o[i].width) / 2;
				EnemyLaser_o[i].y = Enemy_o[i].y;
				(Level == 4) ? Sound_Highpitch() : Sound_Fastinvader4();			// using another sound for level 4
			}
		}
		else
		{
			if(FrameCount % EnemLaserSpeedPar == 0) EnemyLaser_o[i].y += 2;				// moving down
			if(EnemyLaser_o[i].y > 47) EnemyLaser_o[i].life = 0;						// end of screen
			// Player Ship demise
			if(Overlap(EnemyLaser_o[i].x, EnemyLaser_o[i].y, EnemyLaser_o[i].width, EnemyLaser_o[i].hight, PlayerShip_o.x, PlayerShip_o.y, PlayerShip_o.width, PlayerShip_o.hight-2) == 1)
			{
				PlayerShip_o.life = 0;
				EnemyLaser_o[i].life = 0;
				PlayerShip_o.KilledTimer = 30;								// is needed for images of Player Ship explosion
				Sound_Explosion();
			}
		}
	}
	// Detection of end of level
	counter = 0;
	for(i=0; i<4; i++)
	{
		if(Enemy_o[i].life == 0 && Enemy_o[i].KilledTimer == 0) counter++;
	}
	if(counter == 4) Level_End = 1;
	Semaphore = 1;
}

// allow to find out if objects overleap
// inputs: coordinates, width and hight of two objects
unsigned long Overlap(signed long smaller_x, signed long smaller_y, unsigned char smaller_width, unsigned char smaller_hight, signed long bigger_x, signed long bigger_y, unsigned char bigger_width, unsigned char bigger_hight)
{
	unsigned char overlap_true = 0;
	if( smaller_x>=bigger_x && smaller_x<=(bigger_x+bigger_width-1) && (smaller_y-(smaller_hight-1))<=bigger_y && (smaller_y-(smaller_hight-1))>=(bigger_y-(bigger_hight-1)) )
	{
		overlap_true = 1;			// it is for the upper left corner of smaller object
	}
	if( (smaller_x+smaller_width-1)>=bigger_x && (smaller_x+smaller_width-1)<=(bigger_x+bigger_width-1) && (smaller_y-(smaller_hight-1))<=bigger_y && (smaller_y-(smaller_hight-1))>=(bigger_y-(bigger_hight-1)) )
	{
		overlap_true = 1;			// it is for the upper right corner of smaller object
	}
	if( smaller_x>=bigger_x && smaller_x<=(bigger_x+bigger_width-1) && smaller_y<=bigger_y && smaller_y>=(bigger_y-(bigger_hight-1)) )
	{
		overlap_true = 1;			// it is for the lower left corner of smaller object
	}
	if( (smaller_x+smaller_width-1)>=bigger_x && (smaller_x+smaller_width-1)<=(bigger_x+bigger_width-1) && smaller_y<=bigger_y && smaller_y>=(bigger_y-(bigger_hight-1)) )
	{
		overlap_true = 1;			// it is for the lower right corner of smaller object
	}
	return overlap_true;
}

// Display the text on the screen for duration time (in units of 100 ms), disables SysTick Interrupts during this event
// 0 <= x_start_coord <= 11; 0 <= y_start_coord <= 5;
// if out_number is really number (0-9), then this function also print it after string
void DisplayText(char *text, char out_number, unsigned long duration, unsigned long x_start_coord, unsigned long y_start_coord)
{
	NVIC_ST_CTRL_R &= ~0x00000001;				// disable game engine during execution of this function
	Nokia5110_Clear();
	Nokia5110_SetCursor(x_start_coord, y_start_coord);
	Nokia5110_OutString(text);
	if(out_number <= 10 && out_number >= 0) Nokia5110_OutChar(out_number + '0');
	Delay100ms(duration);
	NVIC_ST_CTRL_R |= 0x00000001;					// enable game engine
}

// Initialize some parameters before start of the game
void Game_Param_Init(void)
{
	EnemyMovePerm = 1;		// Enemy mevement is not permitted when one or more of enemies is exploding (when KilledTimer[i] != 0)
	Player_Lifes = 5;
	Level = 0;
	Level_End = 1;
}

void Delay100ms(unsigned long count)
{
	unsigned long volatile time;
	while(count>0)
	{
		time = 727240;					// 0.1sec at 80 MHz
		while(time) time--;
		count--;
	}
}







